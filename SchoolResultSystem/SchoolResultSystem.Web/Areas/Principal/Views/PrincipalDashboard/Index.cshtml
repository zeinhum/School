@model SchoolResultSystem.Web.Areas.Principal.Models.PrincipalDashboardModel
@{
    ViewData["Title"] = "Principal Dashboard";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<link rel="stylesheet" href="~/css/cstview.css" />

<div class="dashboard-container">
    <!-- Main Dashboard Section -->
    <div class="dashboard">
        <div class="dashboard-header">
            <h1>@Model.SchoolName - Principal Dashboard</h1>
            <p>Overview of your school, teachers, and classes.</p>
        </div>

        <partial name="_Analytics" />

        <!-- Teachers Card -->
        <div class="card">
            <h2>Teachers Assigned</h2>

            @if (Model.Teachers != null && Model.Teachers.Any())
            {
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Teacher ID</th>
                            <th>Teacher Name</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var teacher in Model.Teachers)
                        {
                            <tr>
                                <td>@teacher.TeacherId</td>
                                <td>@teacher.TeacherName</td>
                                <td>
                                    <button class="btn btn-delete"
                                        data-action="DeleteTeacher"
                                        data-id="@teacher.TeacherId">
                                        Deactivate
                                    </button>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            }
            else
            {
                <p>No teachers are currently assigned.</p>
            }
        </div>

        <!-- Classes Card -->
        <div class="card">
            <h2>Classes</h2>

            @if (Model.Classes != null && Model.Classes.Any())
            {
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Class ID</th>
                            <th>Class Name</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var cls in Model.Classes)
                        {
                            <tr>
                                <td>@cls.ClassId</td>
                                <td>@cls.ClassName</td>
                                <td>
                                    <button class="btn btn-analyze"
                                            data-id="@cls.ClassId"
                                            data-action="PrincipalDashboard/CSTView">
                                        Subject-Teacher
                                    </button>
                                    <button class="btn btn-edit"
                                            data-id="@cls.ClassId"
                                            data-action="PrincipalDashboard/CSView">
                                        Students
                                    </button>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            }
            else
            {
                <p>No classes have been created yet.</p>
            }
        </div>
    </div>

    <!-- Right Navigation -->
    <partial name="_RightNavBar" model="-2" />
</div>
